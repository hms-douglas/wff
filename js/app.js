/* DECT :: 2024 */
"use strict";const e="1.1.0",t="WatchFaceFrame",i=".",h="div",c="img",p="span",E="canvas",M="a",d="input",o="select",H="option",U="textarea",q="label",y="click",W="change",z="keyup",j="keydown",Y="mousedown",X="mouseup",Z="cancel",J="scroll",K="page",V="popup",Q="file",u="show",$="show-in",ee="show-out",te="small",ae="toast",ne="toast--action",oe="toast-label",re="toast-label--secondary",m="selected",le="input",se="checkbox",ie="placeholder",ce="frame_container",f="frame_settings",de="frame_frames",ue="btns",me="btns2",he="btns3",pe="btn",Ee="btn--secondary",ye="icon",fe="i-info",ge="i-refresh",xe="i-pippette",Te="select",be="zoom",Ae="utils-center",Le="bottom_credits",Oe="scrollable",_e="close",ve="closeable",Se="lang",Ne="progress",Ce="divisorSettings",g="dropdown",De="dropdownIcon",x="on",Be="load",Ie="logo",Re="BTN_DOWNLOAD",we="BTN_SET",ke="BTN_CANCEL",Fe="NO_CUSTOMIZATION",Pe="NONE",Ge="TRANSPARENT",Me="TOAST_INSTALL_PWA",He="BTN_ADD_SHORTCUT",Ue="BTN_NO",qe="ENABLED",We="DISABLED",ze="WATCHFACE",je="WATCHFACES",Ye="LOAD_FONT",Xe="LOAD_LOGO",Ze="WFF_a",Je="WFF_b",Ke="WFF_c",Ve="WFF_d",Qe="WFF_e",$e="WFF_f",et="WFF_g",tt="WFF_h",at="WFF_i",T=0,nt=1,ot=2,rt="MAIN",lt="SELECT_FILES",b="LOADING",st="ZOOM",it="PICK_LANGUAGE",ct="INFO",dt="SETTINGS",ut=document.getElementById("BTN_APPLY"),mt=document.getElementById("BTN_NEW"),ht=document.getElementById(lt),pt=document.querySelector("#PROGRESS div"),A=document.getElementById("ASSETS"),Et=document.getElementById("FRAMES_CONTAINER"),yt=document.getElementById("LANGUAGE_PICKER"),ft=document.getElementById("LANGUAGE_ACTIVE"),gt=document.getElementById("INPUT"),xt=document.getElementById("INPUT_FILE"),Tt=document.getElementById("INPUT_FONT"),bt=document.getElementById("INPUT_LOGO"),At=document.getElementById("OUTPUT_CONTAINER"),Lt=document.getElementById("SELECT_FILES_BTNS"),Ot=document.getElementById("BTN_GENERATE"),_t=document.getElementById("BTN_GENERATE_SETTINGS"),vt=document.getElementById("TOAST_CONTAINER"),St=document.getElementById("BTN_DOWNLOAD_SELECTED"),Nt=document.getElementById("ZOOMED"),Ct=document.getElementById("INFO_TEXT"),Dt=document.getElementById("LABEL_GLOBAL"),Bt=document.getElementById("LABEL_FONT_GLOBAL"),It=document.getElementById("LABEL_SIZE_GLOBAL"),Rt=document.getElementById("LABEL_COLOR_GLOBAL"),wt=document.getElementById("TEXT_GLOBAL"),kt=document.getElementById("TEXT_FONT_GLOBAL"),Ft=document.getElementById("TEXT_SIZE_GLOBAL"),Pt=document.getElementById("TEXT_COLOR_GLOBAL"),l=document.getElementById("BADGE_GLOBAL"),Gt=document.getElementById("BG_GLOBAL"),s=document.getElementById("LOGO_GLOBAL"),a=document.getElementById("COLORPICKER"),Mt=document.getElementById("RENDER_ONE_FRAME"),Ht=document.getElementById("RENDER_FRAMES_IDS"),Ut=document.getElementById("RENDER_WF_RESOLUTION"),qt=document.getElementById("CONTAINER_FRAMES_NUMBER"),Wt=document.getElementById("TOP_BAR"),zt=document.getElementById(rt),jt="url(img/icon/language/",Yt=".png)",Xt="img/frame/",Zt="img/badge/",Jt=Zt+"transp/",Kt="t_",Vt="png",Qt="."+Vt,$t=Qt,ea=".txt",ta=".zip",L="_",aa="image/png",na="PH_LABEL",oa="PH_LABEL_COLOR",ra="PH_LABEL_FONT",la="PH_LABEL_SIZE",sa="PH_TEXT",ia="PH_TEXT_COLOR",ca="PH_TEXT_FONT",da="PH_TEXT_SIZE",ua="PH_BACKGROUND",ma="BTN_DOWNLOAD",ha="PH_BADGE",pa="BTN_DOWNLOAD_SELECTED",Ea="PH_LOGO",ya="Lato",fa=1500,ga=" :: ",xa="none",Ta="block",O="k",ba="a",Aa="b",La="c",Oa="d",_="e",_a="f",va="g",Sa="h",Na="i",Ca="j",Da="l",Ba="m",Ia="n",v="o",Ra="p",wa="q",ka="r",Fa="s",S="t",Pa="u",Ga="v",Ma="w",Ha="x",Ua="y",qa="z",Wa="aa",za="ab",ja="ac",Ya="ad",Xa="ae",Za="val",Ja="wfs";let N,r,Ka=!1,Va,Qa=0,$a=0,en=0,tn=0,an=0,n,nn=null,on=!1,rn=null,C,ln=[],sn=[],cn=!1,dn=[],D=!1,un=0;function mn(){document.getElementById("VERSION").innerHTML="v"+e,document.getElementById("APP_NAME").innerHTML=t,document.title=B()}function hn(){ft.addEventListener(y,xn),xt.addEventListener(W,Nn),Ot.addEventListener(y,In),_t.addEventListener(y,wn),St.addEventListener(y,er),ht.querySelector(i+Le).addEventListener(y,function(){var e=ht.querySelector(i+Oe);e.scroll({behavior:"smooth",top:e.scrollHeight})}),Nt.addEventListener(y,k),ut.addEventListener(y,Kn),mt.addEventListener(y,Vn),Mt.addEventListener(W,function(){localStorage.setItem($e,Mt.checked),Pn()}),RENDER_WF_RESOLUTION.addEventListener(W,Mn),zt.addEventListener(y,function(t){if(cn)cn=!1;else{let e=t.target;if(or())for(;;){if(e.id===a.id)return;if("html"===e.tagName.toLowerCase())return void nr();e=e.parentElement}for(e=t.target;;){if(e.className===g)break;if("html"===e.tagName.toLowerCase()){F();break}e=e.parentElement}}}),a.addEventListener(Y,function(){lr(!0)}),a.addEventListener(X,function(){setTimeout(function(){lr(!1)},50)}),[Tt,bt].forEach(function(e){e.addEventListener(Z,function(){k()})}),Tt.addEventListener(W,Zo),bt.addEventListener(W,Vo),document.querySelectorAll(i+V+" "+i+_e).forEach(function(e){e.addEventListener(y,k)}),document.querySelectorAll(i+V+i+ve).forEach(function(e){e.addEventListener(y,function(e){e.target.classList.contains(ve)&&k()})}),document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener(j,function(e){e.ctrlKey&&65===e.keyCode&&An()===rt&&!e.target.classList.contains(le)&&e.target.tagName.toLowerCase()!==d&&e.preventDefault()}),document.addEventListener(z,function(e){On()?27===e.keyCode&&Sn()&&k():An()!==rt||e.target.classList.contains(le)||e.target.tagName.toLowerCase()===d||(e.ctrlKey?65===e.keyCode&&$n():27===e.keyCode&&(0<document.querySelectorAll(i+m).length?eo():or()&&nr()))}),document.addEventListener(J,function(e){D&&e.target.classList.contains(K)&&F()},!0)}function pn(){"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js")}function B(){return t.replace(/[^A-Z]/g,"")}function En(){tt in localStorage?localStorage.getItem(tt)!==e&&(localStorage.setItem(tt,e),I(ot,N.WHATS_NEW+" ","v"+e+"<br><br>- "+N.WHATS_NEW_INFO.join(";<br>- ")+".",!1)):localStorage.setItem(tt,e)}function yn(){fn(localStorage.getItem(Je)),gn()}function fn(t){t=t||navigator.language,N=null;for(let e=0;e<Rr.length;e++)if(Rr[e].LANGUAGE_CODE===t){N=Rr[e];break}null===N&&(N=Rr[0]),ft.style.backgroundImage=jt+N.LANGUAGE_CODE+Yt,localStorage.setItem(Je,N.LANGUAGE_CODE),document.querySelectorAll("[data-"+O+"]").forEach(function(e){var t=N[e.dataset[O]];e.innerHTML="function"==typeof t?t():t}),document.documentElement.lang=t}function gn(){yt.dataset[Fa]||(Rr.forEach(function(e){var t=document.createElement(h),a=(t.className=Se,t.addEventListener(y,function(){fn(e.LANGUAGE_CODE),k()}),document.createElement(h)),n=(a.style.backgroundImage=jt+e.LANGUAGE_CODE+Yt,document.createElement(p));n.innerHTML=e.LANGUAGE_NAME,t.appendChild(a),t.appendChild(n),yt.appendChild(t)}),yt.dataset[Fa]=!0)}function xn(){gn(),w(it)}function I(e,t,a,n=!0){const o=document.createElement(h);o.className=ae,o.addEventListener(y,function(){""===window.getSelection().toString()&&R(this)});var r=document.createElement(h);switch(e){case T:r.className="i-error";break;case nt:r.className="i-success",n&&setTimeout(function(){R(o)},6e3);break;case ot:r.className="i-info",n&&setTimeout(function(){R(o)},8e3)}e=document.createElement(p);return e.className=oe,e.innerHTML=t,o.appendChild(r),o.appendChild(e),null!=a&&((t=document.createElement(p)).className=re,t.innerHTML=a,o.appendChild(t)),vt.classList.add(u),vt.prepend(o),setTimeout(function(){o.classList.add(u)},30),o}function R(e){if(null!==e)try{e.remove()}catch(e){vt.innerHTML=""}0===document.querySelectorAll(i+ae).length&&vt.classList.remove(u)}function Tn(e,t,a,n,o){const r=document.createElement(h);r.classList.add(ae),r.classList.add(ne);var l=document.createElement(h);switch(e){case T:l.className="i-error";break;case nt:l.className="i-success";break;case ot:l.className="i-info"}var e=document.createElement(p),t=(e.className=oe,e.innerHTML=N[t],e.dataset[O]=t,document.createElement(h)),s=(t.className=ue,document.createElement(h)),n=(s.classList.add(pe),s.classList.add(Ee),s.innerHTML=N[n],s.dataset[O]=n,s.addEventListener(y,function(){R(r)}),document.createElement(h));return n.className=pe,n.innerHTML=N[a],n.dataset[O]=a,n.addEventListener(y,function(){R(r),o()}),t.appendChild(s),t.appendChild(n),r.appendChild(l),r.appendChild(e),r.appendChild(t),vt.classList.add(u),vt.appendChild(r),setTimeout(function(){r.classList.add(u)},30),r}function bn(e){const t=Ln();if(e!==t.id){const a=document.getElementById(e);a.classList.add($),t.classList.add(ee),setTimeout(function(){t.classList.remove(u),a.classList.add(u),a.classList.remove($),t.classList.remove(ee)},200)}R()}function An(){return Ln().id}function Ln(){return document.querySelector(i+K+i+u)}function w(e){k(!0);const t=document.getElementById(e);t.classList.contains(ve)?(t.classList.add($),setTimeout(function(){t.classList.add(u),t.classList.remove($)},20)):t.classList.add(u)}function k(e){if(vn())if(!0===e)vn().classList.remove(u);else{const t=vn();t.classList.add(ee),setTimeout(function(){t.classList.remove(u),t.classList.remove(ee)},250)}}function On(){return 0<document.querySelectorAll(i+V+i+u).length}function _n(){return vn().id}function vn(){return document.querySelector(i+V+i+u)}function Sn(){return On()&&vn().classList.contains(ve)}function Nn(e){[...e.target.files].forEach(function(e){if(e.type.includes("image"))if(e.type.includes(Vt)){var t=document.createElement(h);t.className=Q,t.addEventListener(y,function(){this.remove(),Dn()});const a=document.createElement(c);a.dataset[Oa]=e.name,a.src=URL.createObjectURL(e),a.onload=function(){a.dataset[Aa]=a.naturalHeight,a.dataset[La]=a.naturalWidth,a.naturalWidth!=a.naturalHeight&&(I(T,N.TOAST_WRONG_RATIO,a.dataset[Oa]),a.parentElement.remove(),Dn())},t.appendChild(a),At.appendChild(t)}else I(T,N.TOAST_SUPPORTED_TYPES,e.name);else I(T,N.TOAST_NOT_IMAGE,e.name)}),xt.value="",Dn()}function Cn(){return document.querySelectorAll(i+Q).length}function Dn(){0<Cn()?(gt.classList.add(te),At.classList.add(u),Lt.classList.add(u)):(gt.classList.remove(te),At.classList.remove(u),Lt.classList.remove(u)),kn()}function Bn(){At.innerHTML="",Dn(),r=[]}function In(){if(Hn(),null===Fn())I(T,N.TOAST_NO_FRAMES_SELECTED);else{r=document.querySelectorAll(i+Q+" "+c);let t=0;r.forEach(function(e){e.dataset[ba]=t++}),so(),bn(rt),1<t&&I(ot,N.TOAST_DELAY)}}function Rn(){if(!(Qe in localStorage)){const t=[];for(let e=0;e<G.length;e++)t.push(!0);localStorage.setItem(Qe,JSON.stringify(t))}let t=JSON.parse(localStorage.getItem(Qe));if(t.length<G.length){for(let e=0;e<G.length-t.length;e++)t.push(!0);localStorage.setItem(Qe,JSON.stringify(t))}else t.length>G.length&&(t=t.slice(0,G.length-t.length),localStorage.setItem(Qe,JSON.stringify(t)));for(let e=1;e<=G.length;e++){var a=document.createElement(h),n=(a.classList.add(le),a.classList.add(se),0===G[e-1].length&&(a.style.display=xa),document.createElement(d)),o=(n.type="checkbox",n.id=Ja+e,n.checked=t[e-1],n.addEventListener(W,function(){var e=JSON.parse(localStorage.getItem(Qe));e[this.id.replace(Ja,"")-1]=this.checked,localStorage.setItem(Qe,JSON.stringify(e))}),document.createElement(q));o.dataset[O]=1===e?ze:je,o.dataset[Za]=e,o.htmlFor=Ja+e,o.innerHTML=1===e?N.WATCHFACE:N.WATCHFACES,a.appendChild(n),a.appendChild(o),qt.appendChild(a)}$e in localStorage||localStorage.setItem($e,!0),Mt.checked=gr($e),Pn(),et in localStorage||localStorage.setItem(et,1),Ut.value=localStorage.getItem(et),Mn(),at in localStorage||localStorage.setItem(at,JSON.stringify([])),Ht.value=JSON.parse(localStorage.getItem(at)).join(", "),Hn()}function wn(){w(dt)}function kn(){var t=Cn();for(let e=1;e<=G.length;e++){var a=t>=e&&0!==G[e-1].length;document.getElementById(Ja+e).disabled=!a}}function Fn(){var t=[];let a=!1;for(let e=1;e<=G.length;e++){var n=document.getElementById(Ja+e);n.disabled||!n.checked?t.push(!1):(a=!0,t.push(!0))}return a?t:null}function Pn(){Gn()?(Mt.nextElementSibling.dataset[O]=qe,Mt.nextElementSibling.innerHTML=N.ENABLED):(Mt.nextElementSibling.dataset[O]=We,Mt.nextElementSibling.innerHTML=N.DISABLED)}function Gn(){return Mt.checked}function Mn(){C=Number(Ut.value),localStorage.setItem(et,C)}function Hn(){var t=Ht.value.replaceAll(" ","").split(",");for(let e=0;e<t.length;e++)if(""!==t[e])try{var a=Number(t[e]);if(isNaN(a))return;t[e]=a}catch(e){return}sn=t.filter(Number),localStorage.setItem(at,JSON.stringify(sn))}function Un(){qn(),Wn(),zn(),jn()}function qn(){[Gt,Rt,Pt].forEach(function(t){t.dataset[S]="",t.addEventListener(y,function(e){e.preventDefault(),ar(e,t)})})}function Wn(){[Bt,kt].forEach(function(a){const t=a.nextElementSibling.nextElementSibling;t.addEventListener(y,function(e){switch(e.target.className){case g:case x:return;case Be:F(),Mo(),w(b),Tt.click();break;default:F();var t=e.target.dataset.value;a.value=t,a.dataset.selected=t,a.style.fontFamily=t;try{a.parentElement.previousElementSibling.firstElementChild.style.fontFamily=t}catch(e){a.parentElement.parentElement.previousElementSibling.firstElementChild.style.fontFamily=t}}}),a.addEventListener(y,function(e){e.preventDefault(),D?F():(wo(t),Po(t))}),wo(t),a.dataset[S]="",a.value=ya;var e=document.createElement(p);e.className=Be,e.innerHTML=N.LOAD_FONT,e.dataset[O]=Ye,t.appendChild(e)})}function zn(){l.dataset[S]="",l.value=N.NONE;const t=l.nextElementSibling.nextElementSibling;t.addEventListener(y,function(t){if(t.target.className!==g&&t.target.className!==x){F();let e=t.target;var t=(e="value"in e.dataset?e:e.parentElement).dataset.value,a=e.parentElement,n=a.previousElementSibling.previousElementSibling;a.querySelectorAll("*").forEach(function(e){e.classList.remove(x)}),e.classList.add(x),n.value=e.innerText,n.dataset.selected=t}}),l.addEventListener(y,function(e){e.preventDefault(),D?F():Po(t)}),Ro(t)}function jn(){const t=s.nextElementSibling.nextElementSibling;t.addEventListener(y,function(t){if(t.target.className!==g&&t.target.className!==x){t.target.className===Be&&(F(),Mo(),w(b),bt.click()),F();let e=t.target;var t=(e="value"in e.dataset?e:e.parentElement).dataset.value,a=e.parentElement,n=a.previousElementSibling.previousElementSibling;a.querySelectorAll("*").forEach(function(e){e.classList.remove(x)}),e.classList.add(x),n.value=e.innerText,n.dataset.selected=t}}),s.addEventListener(y,function(e){e.preventDefault(),D?F():(ko(t),Po(t))});var e=document.createElement(h),a=(e.dataset.value="NONE",document.createElement(c)),n=(a.src="wff/img/icon/none.png",document.createElement(p)),a=(n.innerHTML=N.NONE,e.dataset[O]=Pe,e.appendChild(a),e.appendChild(n),t.appendChild(e),document.createElement(p));a.className=Be,a.innerHTML=N.LOAD_LOGO,a.dataset[O]=Xe,t.appendChild(a),s.dataset[S]="",s.value=N.NONE}function Yn(e,t,a,n){const o=e.value;document.querySelectorAll(i+f+" [data-"+O+"='"+t+"']").forEach(function(e){(e=e.previousElementSibling).value=o,(e=e.parentElement.parentElement.nextSibling).dataset[a]=o,n.includes(e)||n.push(e)})}function Xn(e){document.querySelectorAll(i+f+" [data-"+O+"='"+e+"']").forEach(function(e){wo(e.previousElementSibling)})}function Zn(e){document.querySelectorAll(i+f+" [data-"+O+"='"+e+"']").forEach(function(e){ko(e.nextElementSibling)})}function Jn(e,t,a,n){const o=e.value;document.querySelectorAll(i+f+" [data-"+O+"='"+t+"']").forEach(function(e){(e=e.previousElementSibling).value=o,e.style.backgroundColor=o,e.style.color=cr(o),(e=e.parentElement.parentElement.nextSibling).dataset[a]=o,n.includes(e)||n.push(e)})}function Kn(){const a=[];if(Ka=!0,0!==Dt.value.trim().length&&Yn(Dt,na,Ba,a),0!==wt.value.trim().length&&Yn(wt,sa,Ia,a),0!==It.value.trim().length&&Yn(It,la,qa,a),0!==Ft.value.trim().length&&Yn(Ft,da,Ua,a),l.value!==l.dataset[S]){const t=l.value,n=l.dataset.selected;document.querySelectorAll(i+f+" [data-"+O+"='"+ha+"']").forEach(function(e){(e=e.previousElementSibling).value=t,(e=e.parentElement.parentElement.nextSibling).dataset[v]=n,a.includes(e)||a.push(e)}),l.dataset[S]=l.value}if(Bt.value!==Bt.dataset[S]&&(Xn(ra),Yn(Bt,ra,Ma,a),Bt.dataset[S]=Bt.value),kt.value!==kt.dataset[S]&&(Xn(ca),Yn(kt,ca,Ha,a),kt.dataset[S]=kt.value),Gt.value!==Gt.dataset[S]&&(Jn(Gt,ua,Ra,a),Gt.dataset[S]=Gt.value),Rt.value!==Rt.dataset[S]&&(Jn(Rt,oa,Pa,a),Rt.dataset[S]=Rt.value),Pt.value!==Pt.dataset[S]&&(Jn(Pt,ia,Ga,a),Pt.dataset[S]=Pt.value),s.value!==s.dataset[S]){Zn(Ea);const o=s.value,r=s.dataset.selected;document.querySelectorAll(i+f+" [data-"+O+"='"+Ea+"']").forEach(function(e){(e=e.previousElementSibling).value=o,(e=e.parentElement.parentElement.nextSibling).dataset[Xa]=r,a.includes(e)||a.push(e)}),s.dataset[S]=s.value}if(Ka=!1,0!==a.length){let t=0;a.forEach(function(e){t+=e.querySelectorAll(E).length}),Wo(t),w(b);const e=I(ot,N.TOAST_WAIT,N.TOAST_APPLYING);setTimeout(function(){a.forEach(function(e){mo(e.dataset[Sa],void 0,e,e.parentElement,!1)}),setTimeout(function(){R(e),k(),I(nt,N.TOAST_DONE)},300)},100)}}function Vn(){Bn(),Go(),Ln().scroll({top:0}),bn(lt),setTimeout(function(){Et.innerHTML="",to()},250)}function Qn(){this.parentElement.classList.toggle(m),to();var e=this.parentElement.parentElement,t=e.previousElementSibling.querySelector(i+pe+"[data-"+O+"]");0===e.querySelectorAll(i+m).length?(t.dataset[O]=ma,t.innerHTML=N.BTN_DOWNLOAD):(t.dataset[O]=pa,t.innerHTML=N.BTN_DOWNLOAD_SELECTED)}function $n(){document.querySelectorAll(i+de+" > "+h).forEach(function(e){e.classList.add(m)}),St.style.display=Ta,document.querySelectorAll(i+f+" [data-"+O+'="'+Re+'"]').forEach(function(e){e.dataset[O]=pa,e.innerHTML=N.BTN_DOWNLOAD_SELECTED})}function eo(){document.querySelectorAll(i+m).forEach(function(e){e.classList.remove(m)}),St.style.display=xa,document.querySelectorAll(i+f+" [data-"+O+'="'+pa+'"]').forEach(function(e){e.dataset[O]=ma,e.innerHTML=N.BTN_DOWNLOAD})}function to(){St.style.display=0===document.querySelectorAll(i+m).length?xa:Ta}function ao(){A.dataset[wa]||(br.forEach(function(e){var t=document.createElement(c),a=(t.src=Zt+e+Qt,t.dataset[Da]=e,document.createElement(c));a.src=Jt+e+Qt,a.dataset[Da]=Kt+e,A.appendChild(t),A.appendChild(a)}),A.dataset[wa]=!0)}function no(){var t=Fn();let a=!0;!A.dataset[ka+1]&&t[0]&&(a=!1,oo(Ar));for(let e=2;e<=G.length&&r.length>=e;e++){var n=ka+e,o=e-1;!A.dataset[n]&&t[o]&&(a=!1,oo(G[o]),ro(G[o]),A.dataset[n]=!0)}!A.dataset[ka+1]&&t[0]&&(ro(Ar),A.dataset[ka+1]=!0),a&&io()}function oo(e){const t=[];e.forEach(function(e){e[1].forEach(function(e){0!==e&&(e<0?t.includes(e)||(t.push(e),Qa++):Qa++)})})}function ro(e){const o=[];e.forEach(function(n){n[1].forEach(function(e,t){const a=document.createElement(c);if(a.onload=lo,a.onerror=function(){I(T,N.TOAST_ERROR_NOT_FOUND,n[0]+ga+a.src),ln.includes(n[0])||ln.push(n[0]),lo()},0!==e){if(e<0){if(o.includes(e))return;a.src=Xt+"c/"+-1*e+Qt,a.dataset[_]=e,o.push(e)}else a.src=Xt+n[0]+"/"+e+Qt,a.dataset[_]=n[0],a.dataset[_a]=t;A.appendChild(a)}})})}function lo(){0==--Qa&&io()}function so(){Ho(),w(b),setTimeout(function(){ao(),no()},35)}function io(){if(!Ka){On()||(Ho(),w(b));var a=Fn(),n=(Et.innerHTML="",r.length);let t=0;for(let e=1;e<=G.length&&n>=e;e++)a[e-1]&&(t+=1===e?Ar.length*n:G[e-1].length*yr(e,n));Wo(t);for(let e=1;e<=G.length&&n>=e;e++)a[e-1]&&co(e);k()}}function co(e){const n=e-1;for(let e=G[n].length-1;0<=e;e--){const o=G[n][e];if(!ln.includes(o[0]))if(0<sn.length&&!sn.includes(o[0]))zo();else{const r=document.createElement(h),l=(r.className=ce,r.dataset[_]=o[0],document.createElement(h)),s=(l.className=f,document.createElement(h));s.className=de,s.dataset[va]=e,s.dataset[Sa]=n,null===o[4]?((t=document.createElement(p)).dataset[O]=Fe,t.innerHTML=N.NO_CUSTOMIZATION,l.appendChild(t)):o[4].forEach(function(e,t){switch(e){case 0:var a=Ao(),a=(a.appendChild(Lo(n,d,Ba,s)),a.appendChild(Oo(na)),l.appendChild(a),vo(Ma,ra,n,s,r)),a=(l.appendChild(a),So(o[5][t].s,qa,la,n,s,r)),a=(l.appendChild(a),_o(o[5][t].c||P,Pa,oa,n,s,r));l.appendChild(a);break;case 1:a=Ao(),a=(a.appendChild(Lo(n,U,Ia,s)),a.appendChild(Oo(sa)),l.appendChild(a),vo(Ha,ca,n,s,r)),a=(l.appendChild(a),So(o[5][t].s,Ua,da,n,s)),a=(l.appendChild(a),_o(o[5][t].c||Tr,Ga,ia,n,s,r));l.appendChild(a);break;case 2:l.appendChild(No(n,s,r));break;case 3:a=_o(o[5][t].b,Ra,ua,n,s,r);l.appendChild(a);break;case 4:l.appendChild(Co(n,s,r))}l.appendChild(Fo())});var t=document.createElement(h),a=(0==n?null===o[6]?t.className=ue:(t.className=me,t.appendChild(Do(o[6]))):(null===o[6]?t.className=me:(t.className=he,t.appendChild(Do(o[6]))),t.appendChild(Bo(n,s,r))),document.createElement(h));a.className=pe,a.dataset[O]=Re,a.innerHTML=N.BTN_DOWNLOAD,a.addEventListener(y,$o),t.appendChild(a),l.appendChild(t),r.appendChild(l),uo(n,e,s,r)}}}function uo(e,t,a,n){setTimeout(function(){mo(e,t,a,n,!0)},0)}function mo(e,t,i,c,d){i.innerHTML="",t=t||i.dataset[va];var a=e+1;const u=G[e][t],m=A.querySelector("img[data-"+_+'="'+u[0]+'"]')||A.querySelector("img[data-"+_+'="'+u[1][0]+'"]');e=document.createElement(p);e.innerHTML=m.naturalWidth+" x "+m.naturalHeight+ga+"ID "+c.dataset[_],i.appendChild(e);let n;if(i.dataset[Ca])n=[],JSON.parse(i.dataset[Ca]).forEach(function(e){const a=[];e.forEach(function(t){for(let e=0;r.length;e++)if(r[e].dataset[ba]===t){a.push(r[e]);break}}),n.push(a)});else{n=fr((1===a?hr:pr)(r),a,Er(a,r.length));const o=[];n.forEach(function(e){const t=[];e.forEach(function(e){t.push(e.dataset[ba])}),o.push(t)}),i.dataset[Ca]=JSON.stringify(o)}n.forEach(function(s){setTimeout(function(){var e=document.createElement(h);const t=document.createElement(E),l=(t.height=m.naturalHeight,t.width=m.naturalWidth,t.getContext("2d"));let n=0,o=(null!==u[4]&&u[4].includes(3)&&(a=i.dataset[Ra]||ir(u[5][u[4].indexOf(3)].b),l.fillStyle=a,l.fillRect(0,0,t.width,t.height)),-1);u[1].forEach(function(e){var t,a;0===e?(t=s[++o],null!==u[3]&&u[3][o]?"c"in(a=u[3][o])?Eo(a,t,l):po(u,o,t,a,l):ho(u,o,t,l)):e<0?l.drawImage(A.querySelector("[data-"+_+'="'+e+'"]'),0,0):l.drawImage(A.querySelector("[data-"+_+'="'+u[0]+'"][data-'+_a+'="'+n+'"]'),0,0),n++}),null!==u[4]&&u[4].forEach(function(a,e){var n=u[5][e];switch(a){case 0:if(i.dataset[Ba]){let t;try{t=i.dataset[Pa]||u[5][a].c||P}catch(e){t=P}l.fillStyle=ir(t),l.font=(n.d||"")+" "+(i.dataset[qa]||n.s)+"px "+(i.dataset[Ma]||ya),l.textAlign=n.a,l.textBaseline="middle","r"in n?(l.save(),l.translate(n.x,n.y),l.rotate(n.r*Math.PI/180),xo(l,!1,i.dataset[Ba],n,n.x,0),l.fillText(i.dataset[Ba],0,n.x),l.restore()):(xo(l,!1,i.dataset[Ba],n),l.fillText(i.dataset[Ba],n.x,n.y))}break;case 1:if(i.dataset[Ia]){var t=i.dataset[Ia].split("\n");let e;try{e=i.dataset[Ga]||u[5][a].c||Tr}catch{e=Tr}var o=Number(i.dataset[Ua]||n.s);l.fillStyle=ir(e),l.font=(n.d||"")+" "+o+"px "+(i.dataset[Ha]||ya),l.textAlign=n.a,l.textBaseline="middle",xo(l,!0,i.dataset[Ia],n);for(let e=0;e<t.length;e++)l.fillText(t[e],n.x,n.y+(o+5)*e)}break;case 2:i.dataset[v]&&"NONE"!==i.dataset[v]&&"undefined"!==i.dataset[v]&&(r=A.querySelector("[data-"+Da+'="'+i.dataset[v]+'"]'),n.r?go(n.x,n.y,r.naturalWidth*(n.h/r.naturalHeight),n.h,r,n.r,l,!0):l.drawImage(r,n.x,n.y,r.naturalWidth*(n.h/r.naturalHeight),n.h));break;case 4:if(i.dataset[Xa]&&"NONE"!==i.dataset[Xa]&&"undefined"!==i.dataset[Xa]){var r=A.querySelector("[data-"+Ya+'="'+i.dataset[Xa]+'"]');let e=n.x,t=n.y,a=r.naturalWidth*(n.h/r.naturalHeight);if("o"in n)switch(n.o){case 0:e-=a;break;case 1:t-=n.h;break;case 2:e-=a,t-=n.h;break;case 3:e-=a/2,t-=n.h/2}n.r?go(e,t,a,n.h,r,n.r,l,!0):l.drawImage(r,e,t,a,n.h)}}}),e.appendChild(t);var a=document.createElement(h),r=(a.classList.add(Te),a.classList.add(Ae),a.addEventListener(y,Qn),document.createElement(h));r.classList.add(be),r.classList.add(Ae),r.addEventListener(y,()=>{Io(t)}),e.appendChild(a),e.appendChild(r),i.appendChild(e),zo(),d&&(c.appendChild(i),Et.prepend(c))},0)})}function ho(e,t,a,n){var o=e[2][t][0],r=e[2][t][1],l=e[2][t][2],e=e[2][t][3]||e[2][t][2];n.drawImage(a,o,r,l,e)}function po(e,t,a,n,o){"c"in n||(o.save(),yo(o,n),"r"in n?go(e[2][t][0],e[2][t][1],e[2][t][2],e[2][t][3]||e[2][t][2],a,n.r,o,!1):ho(e,t,a,o),o.restore())}function Eo(e,t,a){var n;1<Object.keys(e).length?((n=document.createElement(E)).height=a.canvas.height,n.width=a.canvas.width,fo(e,t,n.getContext("2d")),a.save(),yo(a,e),a.drawImage(n,0,0),a.restore()):fo(e,t,a)}function yo(e,t){"o"in t&&(e.globalAlpha=t.o),"bl"in t&&(e.globalCompositeOperation=t.bl);let a="";"b"in t&&(a="brightness("+t.b+")"),"ct"in t&&(a+=(0===a.length?"":" ")+"contrast("+t.ct+")"),"g"in t&&(a+=(0===a.length?"":" ")+"grayscale("+t.g+")"),"s"in t&&(a+=(0===a.length?"":" ")+"sepia("+t.s+")"),null!==a&&(e.filter=a)}function fo(e,a,n){var o,r,l,s,i,c=e.c,d=a.dataset[La]-1,u=a.dataset[Aa]-1;for(let t=0;t<u;t+=C)for(let e=0;e<d;e+=C)r=dr(c[0],c[3],t/u),l=dr(c[1],c[2],t/u),s=dr(c[0],c[3],(t+C)/u),i=dr(c[1],c[2],(t+C)/u),o=dr(r,l,e/d),r=dr(r,l,(e+C)/d),l=dr(s,i,(e+C)/d),s=dr(s,i,e/d),n.drawImage(a,e,t,C,C,o.x,o.y,Math.ceil(Math.max(C,Math.abs(r.x-o.x),Math.abs(s.x-l.x)))+1,Math.ceil(Math.max(C,Math.abs(o.y-s.y),Math.abs(r.y-l.y)))+1)}function go(e,t,a,n,o,r,l,s){var i=e+a/2,c=t+n/2,r=(s&&l.save(),l.translate(i,c),r*Math.PI/180);l.rotate(r),l.translate(-i,-c),l.drawImage(o,e,t,a,n),s&&l.restore()}function xo(t,e,a,n,o,r){if("ds"in n){var l=n.ds;if(o=(o||n.x)+l.x,r=(r||n.y)+l.y,t.save(),t.fillStyle=ir(l.c||"00"),t.globalAlpha=l.o||.5,t.font=n.d+" "+n.s+"px "+ya,t.textAlign=n.a,t.textBaseline="middle",t.filter="blur("+(l.b||0)+"px)",e){var s=a.split("\n");for(let e=0;e<s.length;e++)t.fillText(s[e],o,r+(n.s+5)*e)}else t.fillText(a,o,r);t.restore()}}function To(e,t,a){Wo(t.querySelectorAll(E).length),w(b);const n=I(ot,N.TOAST_WAIT,N.TOAST_APPLYING);setTimeout(function(){mo(e,void 0,t,a,!1),R(n),setTimeout(function(){to(),k()},300)},100)}function bo(e,t,a){clearTimeout(Va),Va=setTimeout(function(){To(e,t,a)},fa)}function Ao(){var e=document.createElement(h);return e.className=le,e}function Lo(e,t,a,n){const o=document.createElement(t);return o.placeholder="",o.addEventListener(z,function(){n.dataset[a]=o.value,bo(e,n,this.parentElement.parentElement.parentElement)}),o}function Oo(e){var t=document.createElement(p);return t.className=ie,t.dataset[O]=e,t.innerHTML=N[e],t}function _o(e,t,a,n,o,r){var l=Ao();const s=document.createElement(d);return s.placeholder="",s.readOnly=!0,s.value=ir(e),s.style.backgroundColor=s.value,s.style.color=cr(s.value),s.dataset.color="",s.addEventListener(y,function(e){e.preventDefault(),ar(e,s)}),s.addEventListener(W,function(){o.dataset[t]=s.value,To(n,o,r)}),l.appendChild(s),l.appendChild(Oo(a)),l}function vo(o,e,r,l,s){var t=Ao();const a=document.createElement(h);a.className=g,a.addEventListener(y,function(e){switch(e.target.className){case g:case x:return;case Be:F(),Mo(),w(b),Tt.click();break;default:F();var t=e.target.dataset.value,a=e.target.parentElement,n=a.previousElementSibling.previousElementSibling;a.querySelectorAll(h).forEach(function(e){e.classList.remove(x)}),e.target.classList.add(x),n.value=t,n.style.fontFamily=t,a.parentElement.previousElementSibling.firstElementChild.style.fontFamily=t,l.dataset[o]=t,To(r,l,s)}});var n=document.createElement(d),i=(n.placeholder="",n.readOnly=!0,n.value=ya,n.addEventListener(y,function(e){e.preventDefault(),D?F():(wo(a),Po(a))}),wo(a),document.createElement(p));return i.className=Be,i.innerHTML=N.LOAD_FONT,i.dataset[O]=Ye,a.appendChild(i),t.appendChild(n),t.appendChild(Oo(e)),t.appendChild(a),t}function So(e,t,a,n,o){var r=Ao(),n=Lo(n,d,t,o);return n.type="number",n.value=e,r.appendChild(n),r.appendChild(Oo(a)),r}function No(o,r,l){var e=Ao();const t=document.createElement(h);t.className=g,t.addEventListener(y,function(t){if(t.target.className!==g&&t.target.className!==x){F();let e=t.target;var t=(e="value"in e.dataset?e:e.parentElement).dataset.value,a=e.parentElement,n=a.previousElementSibling.previousElementSibling;a.querySelectorAll("*").forEach(function(e){e.classList.remove(x)}),e.classList.add(x),n.value=e.innerText,r.dataset[v]=t,To(o,r,l)}});var a=document.createElement(d);return a.placeholder="",a.readOnly=!0,a.value=N.NONE,a.addEventListener(y,function(e){e.preventDefault(),D?F():Po(t)}),Ro(t),e.appendChild(a),e.appendChild(Oo(ha)),e.appendChild(t),e}function Co(r,l,s){var e=Ao();const t=document.createElement(h);t.className=g,t.addEventListener(y,function(t){switch(t.target.className){case g:case x:return;case Be:F(),Mo(),w(b),bt.click();break;default:F();let e=t.target;for(;!("value"in e.dataset);)e=e.parentElement;var a=e.dataset.value,n=e.parentElement,o=n.previousElementSibling.previousElementSibling;n.querySelectorAll(h).forEach(function(e){e.classList.remove(x)}),e.classList.add(x),o.value=e.querySelector(p).innerHTML,l.dataset[Xa]=a,To(r,l,s)}});var a=document.createElement(d),n=(a.placeholder="",a.readOnly=!0,a.value=N.NONE,a.addEventListener(y,function(e){e.preventDefault(),D?F():(ko(t),Po(t))}),document.createElement(h)),o=(n.dataset.value="NONE",document.createElement(c)),i=(o.src="wff/img/icon/none.png",document.createElement(p)),o=(i.innerHTML=N.NONE,n.dataset[O]=Pe,n.appendChild(o),n.appendChild(i),t.appendChild(n),document.createElement(p));return o.className=Be,o.innerHTML=N.LOAD_LOGO,o.dataset[O]=Xe,t.appendChild(o),e.appendChild(a),e.appendChild(Oo(Ea)),e.appendChild(t),e}function Do(e){var t=document.createElement(h);return t.classList.add(pe),t.classList.add(ye),t.classList.add(fe),t.dataset[Na]=JSON.stringify(e),t.addEventListener(y,Xo),t}function Bo(e,t,a){var n=document.createElement(h);return n.classList.add(pe),n.classList.add(ye),n.classList.add(ge),n.addEventListener(y,function(){delete t.dataset[Ca],To(e,t,a)}),n}function Io(e){Nt.src=e.toDataURL(aa),w(st)}function Ro(o){var e=document.createElement(h);e.className=x,e.dataset.value="NONE",e.innerHTML=N.NONE,e.dataset[O]=Pe,o.appendChild(e),br.forEach(function(e){var t=document.createElement(h),a=(t.dataset.value=e,t.innerHTML=e,document.createElement(p)),n=(a.innerHTML=N.TRANSPARENT,a.dataset[O]=Ge,document.createElement(h));n.dataset.value=Kt+e,n.innerHTML=e+ga,n.appendChild(a),o.appendChild(t),o.appendChild(n)})}function wo(a){const n=Array.from(a.querySelectorAll("div")).map(e=>e.dataset.value),o=a.lastChild;o?dn.forEach(function(e){var t;n.includes(e)||((t=document.createElement(h)).dataset.value=e,t.innerHTML=e,t.style.fontFamily=e,o.before(t))}):dn.forEach(function(e){var t;n.includes(e)||((t=document.createElement(h)).dataset.value=e,t.innerHTML=e,t.style.fontFamily=e,a.appendChild(t))})}function ko(e){const t=A.querySelectorAll("[data-"+Ya+"]"),o=Array.from(e.querySelectorAll("div")).map(e=>e.dataset.value),r=e.lastChild;t.forEach(function(e){var t,a,n;o.includes(e.dataset[Ya])||((t=document.createElement(h)).dataset.value=e.dataset[Ya],(a=document.createElement(c)).src=e.src,(n=document.createElement(p)).innerHTML=e.dataset[Wa],t.appendChild(a),t.appendChild(n),r.before(t))})}function Fo(){var e=document.createElement(h);return e.className=Ce,e}function Po(e){or()&&nr(),lr(D=!0),e.style.display=Ta;var t=e.parentElement.getBoundingClientRect(),a=(e.style.top=t.y+t.height+"px",e.style.width=t.width-22+"px",e.querySelectorAll(h)),n=e.parentElement.querySelector(d).value;e.querySelectorAll(h).forEach(function(e){e.classList.remove(x)});for(let e=0;e<a.length;e++)if(a[e].dataset.value===n||a[e].innerText===n)return void a[e].classList.add(x)}function F(){document.querySelectorAll(i+g).forEach(function(e){e.style.display=xa}),D=!1}function Go(){qo(),Ho(),Uo(0)}function Mo(){document.getElementById(b).classList.remove(Ne)}function Ho(){document.getElementById(b).classList.add(Ne)}function Uo(e){pt.style.width=e+"%"}function qo(){$a=0,en=0}function Wo(e){Go(),$a=e,tn=e,an=e}function zo(){++en<=$a&&Uo(100*en/$a)}function jo(e,t){let a="<b>"+N.ABOUT+"</b><br><br>";return e.forEach(function(t){if(!1===t.a)a+="- "+N.ABOUT_MADE_BY_ME;else if(1!=t.a){let e="- "+N.ABOUT_INFO.replace(Dr,'"<b>'+t.a+'</b>"');e=e.replace(Br,'<a href="'+t.l+'" target="_blank" rel="noopener noreferrer">'+t.l+"</a>").replace(Ir,sr(t.d)),t.m&&(e+=" <b>["+N.ABOUT_MODIFIED+"]</b>"),a+=e}}),void 0!==t&&""!==t&&(a+="- "+N.ABOUT_GOOGLE),a}function Yo(e,t){let a=N.ABOUT+"\n\n";return null!=e&&e.forEach(function(t){if(!1===t.a)a+="- "+N.ABOUT_MADE_BY_ME;else if(1!=t.a){let e="- "+N.ABOUT_INFO.replace(Dr,'"'+t.a+'"').replace(Br,'"'+t.l+'"').replace(Ir,sr(t.d));t.m&&(e+=" ["+N.ABOUT_MODIFIED+"]"),a+=e}}),void 0!==t&&""!==t&&(a+="- "+N.ABOUT_GOOGLE),a}function Xo(){Ct.innerHTML=jo(JSON.parse(this.dataset[Na]),this.parentElement.parentElement.nextSibling.dataset[v]);var e=Ct.querySelector("a");e.href=e.innerHTML,e.target="_blank",e.rel="noopener noreferrer",w(ct)}function Zo(e){let o=0;e=[...e.target.files];Go(),Wo(e.length),e.forEach(function(e){let t=e.name.split(".");var a=t.pop().toLowerCase();if(t=t.join("."),"otf"!==a&&"ttf"!==a&&"woff2"!==a)I(T,N.TOAST_SUPPORTED_TYPES_FONT,e.name),o++,zo();else{const n=new FileReader;n.onload=async function(){var e=new FontFace(t,n.result);await e.load(),document.fonts.add(e),dn.push(t),Jo()},n.readAsArrayBuffer(e)}}),o===e.length&&k(),Tt.value=""}function Jo(){zo(),0==--tn&&(k(),I(nt,N.TOAST_DONE,N.TOAST_CAN_SELECT_FONT))}function Ko(){try{var e=["Arial","Arial Black","Comic Sans MS","Verdana","Tahoma","Times New Roman","Georgia","Courier New","Brush Script MT"];dn=e.filter(function(e){return document.fonts.check("12px "+e)})}catch(e){}dn.unshift(ya)}function Vo(e){let o=0;e=[...e.target.files];Go(),Wo(e.length),e.forEach(function(e){if(e.type.includes("image"))if(e.type.includes(Vt)){var t=un++,a=URL.createObjectURL(e);const n=document.createElement(c);n.dataset[Wa]=e.name,n.dataset[Ya]=t,n.src=a,n.onload=function(){n.dataset[za]=n.naturalHeight,n.dataset[ja]=n.naturalWidth,Qo()},A.appendChild(n)}else I(T,N.TOAST_SUPPORTED_TYPES,e.name),o++;else I(T,N.TOAST_NOT_IMAGE,e.name),o++}),o===e.length&&k(),bt.value=""}function Qo(){zo(),0==--an&&(k(),I(nt,N.TOAST_DONE,N.TOAST_CAN_SELECT_LOGO))}async function $o(s){Mo(),w(b),setTimeout(async function(){var t=s.target.parentElement.parentElement.nextSibling.querySelectorAll(h+":has("+E+")");const a=s.target.parentElement.parentElement.parentElement.dataset[_];var n=[];for(let e=0;e<t.length;e++)t[e].classList.contains(m)&&n.push(t[e].querySelector(E).toDataURL(aa).replace(/^data:image\/(png|jpg);base64,/,""));if(0===n.length)for(let e=0;e<t.length;e++)n.push(t[e].querySelector(E).toDataURL(aa).replace(/^data:image\/(png|jpg);base64,/,""));const o=new JSZip;n.forEach(function(e,t){o.file(B()+L+a+L+t+$t,e,{base64:!0})});var e=s.target.parentElement.querySelector(i+fe),r=s.target.parentElement.parentElement.nextSibling.dataset[v],e=(e?(e=JSON.parse(e.dataset[Na]),o.file(B()+L+a+L+N.ABOUT.toLowerCase()+ea,Yo(e,r))):r&&o.file(B()+L+a+L+N.ABOUT.toLowerCase()+ea,Yo(null,r)),await o.generateAsync({type:"blob"})),r=B()+L+a+ta,l=document.createElement(M);l.download=r,l.href=URL.createObjectURL(e),l.style.display=xa,document.body.appendChild(l),l.click(),l.remove(),k(),I(nt,N.TOAST_DONE,r)},200)}async function er(){Mo(),w(b),setTimeout(async function(){let t=[],o=(document.querySelectorAll(i+m).forEach(function(e){e=e.parentElement;t.includes(e)||t.push(e)}),[]),n=(t.forEach(function(e){o.push(e.parentElement.dataset[_])}),[]);t.forEach(function(e){var t=[],a=e.querySelectorAll(h);for(let e=0;e<a.length;e++)a[e].classList.contains(m)&&t.push(a[e].querySelector(E).toDataURL(aa).replace(/^data:image\/(png|jpg);base64,/,""));n.push(t)});const r=new JSZip,l=[];n.forEach(function(e,a){const n=r.folder(B()+L+o[a]);e.forEach(function(e,t){n.file(B()+L+o[a]+L+t+$t,e,{base64:!0})}),l.push(n)}),t.forEach(function(e,t){var a=e.previousElementSibling.querySelector(i+fe),e=e.dataset[v];a?(a=JSON.parse(a.dataset[Na]),l[t].file(B()+L+o[t]+L+N.ABOUT.toLowerCase()+ea,Yo(a,e))):e&&l[t].file(B()+L+o[t]+L+N.ABOUT.toLowerCase()+ea,Yo(null,e))});var e=await r.generateAsync({type:"blob"}),a=B()+ta,s=document.createElement(M);s.download=a,s.href=URL.createObjectURL(e),s.style.display=xa,document.body.appendChild(s),s.click(),s.remove(),k(),I(nt,N.TOAST_DONE,a)},200)}function tr(){if(!a.dataset[Fa]){if((n=new R9Picker(a.id,R9Picker.TYPE.COMPLETE)).SIZE=209,n.UI_COLOR="#C96E13",n.setDarkMode(!0),n.unhideTab(R9Picker.TAB.CIRCLE),n.unhideTab(R9Picker.TAB.TRIANGLE),n.addPalette(R9Picker.PALETTE.MATERIAL_DESIGN),n.addPalette(R9Picker.PALETTE.CLASSIC),n.addPalette(R9Picker.PALETTE.HUE_24),Ve in localStorage)try{var e=JSON.parse(localStorage.getItem(Ve)).map(e=>R9.parseColor(e,R9.TYPE.HEX,{alpha:1}));localStorage.setItem("r9-picker-saved",JSON.stringify(e)),localStorage.removeItem(Ve)}catch(e){}n.addEventListener(R9Picker.EVENT.TAB_CHANGE,e=>{n.showColorNameOnPalette(e===R9Picker.TAB.SAVED)}),n.addEventListener(R9Picker.EVENT.SET,e=>{rr(e.current.hex),nr()}),n.addEventListener(R9Picker.EVENT.CANCELED,()=>{nr()}),n.addEventListener(R9Picker.EVENT.COLOR_SAVED,e=>{I(nt,"Saved!",e.color.hex)}),a.dataset[Fa]=!0}}function ar(e,t){D&&F(),lr(!0),n.COLOR=t.value||"#C96E13",nn=t,a.style.display=Ta;t=e.clientY+zt.scrollTop-Wt.getBoundingClientRect().height;a.clientHeight+e.clientY>window.innerHeight+Wt.getBoundingClientRect().height?a.style.top=t-a.clientHeight+"px":a.style.top=t+"px",a.getBoundingClientRect().width+e.clientX>window.innerWidth?a.style.left=e.clientX-a.clientWidth+"px":a.style.left=e.clientX+"px",a.dataset[Fa]||(a.dataset[Fa]=!0,I(ot,N.TOAST_REMOVE_COLOR))}function nr(e){null!==nn&&(a.style.display=xa,e||(nn=null,on=!1))}function or(){return a.style.display===Ta}function rr(e){nn.value=e,nn.style.backgroundColor=e,nn.style.color=cr(e),nn.dispatchEvent(new Event(W))}function lr(e){cn=e}function sr(e){return new Date(e).toLocaleDateString()}function ir(e){return"#"===e[0]?e.length<=7?e+"FF":e:"#"+e.repeat(3)+"FF"}function cr(e){return R9.constrastRatio(e,"#030303",R9.WCAG.AA_NORMAL)?"#030303":"#F3F3F3"}function dr(e,t,a){return{x:e.x+(t.x-e.x)*a,y:e.y+(t.y-e.y)*a}}function ur(){var e=navigator.userAgent||window.opera||navigator.vendor;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?(localStorage.setItem(Ke,!0),!0):Ke in localStorage}function mr(e){let t=e.length;for(;0!=t;){var a=Math.floor(Math.random()*t);t--,[e[t],e[a]]=[e[a],e[t]]}}function hr(e){return[...e]}function pr(e){e=hr(e);return mr(e),e}function Er(e,t){if(1<e&&Gn())return 1;switch(t=t||1,e){case 2:return 5;case 3:return 4;case 4:case 5:return 3;case 6:return 2;default:return t}}function yr(e,t){if(1<e&&Gn())return 1;var a=Er(e);let n=0;for(;e<=t;){if(++n===a)return a;t-=e}return 0===n?1:n}function fr(e,t,a){for(var n=[];e.length&&n.length<a;){var o=e.splice(0,t);if(o.length<t)break;n.push(o)}return n}function gr(e){return"true"===localStorage.getItem(e)}function xr(t,a){t.strokeStyle="#09f",t.lineWidth=1.5,t.beginPath();for(let e=0;e<a.length;e++){var n=a[e];t[e?"lineTo":"moveTo"](n.x,n.y)}t.closePath(),t.stroke()}window.onload=function(){ur()&&bn("MOBILE"),mn(),pn(),yn(),tr(),hn(),Un(),Rn(),Ko(),En()},window.onerror=function(e,t,a,n,o){I(T,N.TOAST_ERROR,"["+a+":"+n+"] "+e)};